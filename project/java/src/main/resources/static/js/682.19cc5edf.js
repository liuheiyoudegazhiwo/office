"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[682],{287:function(t,e,r){r.d(e,{CI:function(){return U},DV:function(){return m},EZ:function(){return J},Ex:function(){return nt},GR:function(){return s},Hl:function(){return L},Jq:function(){return u},KJ:function(){return Z},KP:function(){return D},L:function(){return R},Lc:function(){return tt},O:function(){return at},PT:function(){return z},R3:function(){return ut},SJ:function(){return k},Sq:function(){return I},Ts:function(){return G},U0:function(){return j},Ue:function(){return et},Ux:function(){return d},V0:function(){return st},Vd:function(){return g},WX:function(){return Q},Wd:function(){return _},_7:function(){return v},_f:function(){return w},aC:function(){return O},aI:function(){return x},aS:function(){return E},ag:function(){return b},dG:function(){return $},dX:function(){return rt},en:function(){return S},fY:function(){return B},ge:function(){return Y},gu:function(){return f},h5:function(){return C},hn:function(){return T},iD:function(){return V},jx:function(){return y},k8:function(){return a},lC:function(){return N},lI:function(){return P},lO:function(){return ot},lc:function(){return K},mR:function(){return A},mx:function(){return c},oA:function(){return p},qV:function(){return W},r6:function(){return F},rf:function(){return h},sA:function(){return it},ti:function(){return o},ul:function(){return l},vL:function(){return q},vV:function(){return X},xw:function(){return H},y1:function(){return M},z_:function(){return i}});var n=r(5898);function i(t){return(0,n.A)({url:"/api/querypaper",method:"post",data:t})}function a(t){return(0,n.A)({url:"/api/addpaper",method:"post",data:t})}function s(t){return(0,n.A)({url:"/api/updatepaper",method:"post",data:t})}function o(t){return(0,n.A)({url:"/api/removepaper",method:"post",data:t})}function u(t){return(0,n.A)({url:"/api/queryelectron",method:"post",data:t})}function c(t){return(0,n.A)({url:"/api/addelectron",method:"post",data:t})}function l(t){return(0,n.A)({url:"/api/updateelectron",method:"post",data:t})}function d(t){return(0,n.A)({url:"/api/queryannouncementbyid",method:"post",data:t})}function p(t){return(0,n.A)({url:"/api/queryusercs",method:"post",data:t})}function h(t){return(0,n.A)({url:"/api/querykaoshiuser",method:"post",data:t})}function f(t){return(0,n.A)({url:"/api/modifyPwd",method:"post",data:t})}function m(t){return(0,n.A)({url:"/api/plinsertresult",method:"post",data:t})}function g(t){return(0,n.A)({url:"/api/removeelectron",method:"post",data:t})}function A(t){return(0,n.A)({url:"/api/addapprase",method:"post",data:t})}function x(t){return(0,n.A)({url:"/api/deleteiscunzai",method:"post",data:t})}function b(t){return(0,n.A)({url:"/api/queryuserquestion",method:"post",data:t})}function y(t){return(0,n.A)({url:"/api/plinsertque",method:"post",data:t})}function v(t){return(0,n.A)({url:"/api/addSysUser",method:"post",data:t})}function j(t){return(0,n.A)({url:"/api/updateSysUser",method:"post",data:t})}function _(t){return(0,n.A)({url:"/api/userremove",method:"post",data:t})}function k(t){return(0,n.A)({url:"/api/userQueryList",method:"post",data:t})}function q(t){return(0,n.A)({url:"/api/updateUserstatus",method:"post",data:t})}function C(t){return(0,n.A)({url:"/api/querysysnews",method:"post",data:t})}function S(t){return(0,n.A)({url:"/api/addsysnews",method:"post",data:t})}function w(t){return(0,n.A)({url:"/api/updatesysnews",method:"post",data:t})}function O(t){return(0,n.A)({url:"/api/updatesysnewsstatus",method:"post",data:t})}function L(t){return(0,n.A)({url:"/api/removesysnews",method:"post",data:t})}function I(t){return(0,n.A)({url:"/api/taskverifymore",method:"post",data:t})}function T(t){return(0,n.A)({url:"/api/chatremove",method:"post",data:t})}function z(t){return(0,n.A)({url:"/api/questionselect",method:"post",data:t})}function R(t){return(0,n.A)({url:"/api/updatataskstatus",method:"post",data:t})}function $(t){return(0,n.A)({url:"/api/taskverify",method:"post",data:t})}function N(t){return(0,n.A)({url:"/api/getclassquestion",method:"post",data:t})}function U(t){return(0,n.A)({url:"/api/questionupdata",method:"post",data:t})}function P(t){return(0,n.A)({url:"/api/questionremove",method:"post",data:t})}function E(t){return(0,n.A)({url:"/api/questioninsert",method:"post",data:t})}function M(t){return(0,n.A)({url:"/api/querychatart",method:"post",data:t})}function J(t){return(0,n.A)({url:"/api/deletearticle",method:"post",data:t})}function G(t){return(0,n.A)({url:"/api/queryarticle",method:"post",data:t})}function H(t){return(0,n.A)({url:"/api/resetPassword",method:"post",data:t})}function V(t){return(0,n.A)({url:"/api/login",method:"post",data:t})}function Z(t){return(0,n.A)({url:"/api/addfloor",method:"post",data:t})}function D(t){return(0,n.A)({url:"/api/updatafloor",method:"post",data:t})}function X(t){return(0,n.A)({url:"/api/removefloor",method:"post",data:t})}function F(t){return(0,n.A)({url:"/api/queryfloor",method:"post",data:t})}function W(t){return(0,n.A)({url:"/api/insertchat",method:"post",data:t})}function K(t){return(0,n.A)({url:"/api/querychat",method:"post",data:t})}function Q(t){return(0,n.A)({url:"/api/removeannouncement",method:"post",data:t})}function Y(t){return(0,n.A)({url:"/api/updateannostatus",method:"post",data:t})}function B(t){return(0,n.A)({url:"/api/updateannouncement",method:"post",data:t})}function tt(t){return(0,n.A)({url:"/api/addannouncement",method:"post",data:t})}function et(t){return(0,n.A)({url:"/api/queryannouncement",method:"post",data:t})}function rt(t){return(0,n.A)({url:"/api/deleteresult",method:"post",data:t})}function nt(t){return(0,n.A)({url:"/api/addkaoshiresult",method:"post",data:t})}function it(t){return(0,n.A)({url:"/api/queryresult",method:"post",data:t})}function at(t){return(0,n.A)({url:"/api/updatasubmitdata",method:"post",data:t})}function st(t){return(0,n.A)({url:"/api/selectsubmit",method:"post",data:t})}function ot(t){return(0,n.A)({url:"/api/fankuiremove",method:"post",data:t})}function ut(t){return(0,n.A)({url:"/api/searchbyno",method:"post",data:t})}},5898:function(t,e,r){var n=r(5547),i=r.n(n),a=r(2057);const s="/",o=i().create({baseURL:s,timeout:6e4,headers:{"Content-Type":"application/json;charset=UTF-8"},transformRequest:[function(t){return t}]});o.interceptors.request.use((t=>{t.headers["Cache-Control"]="no-cache",t.headers["X-Requested-With"]="XMLHttpRequest",t.headers["platform"]="PC";try{let e=JSON.parse(sessionStorage.getItem("userinfo"));t.headers["empNo"]=e.empNo}catch(e){}return localStorage.getItem("AUTHORIZATIONGENERAL")&&""!=localStorage.getItem("AUTHORIZATIONGENERAL")?t.headers["Authorization"]=localStorage.getItem("AUTHORIZATIONGENERAL"):t.headers["Authorization"]="",t.data&&(t.headers["Content-Type"]="application/json;charset=UTF-8",t.data=JSON.stringify(t.data)),"get"==t.method&&(t.params=t.params||{},t.params.t=(new Date).getTime()),t}),(t=>{Promise.reject(t)})),o.interceptors.response.use((t=>{let e={};if(200===t.status){let r=t.data.code;return 1e3==r?(localStorage.setItem("AUTHORIZATIONGENERAL",""),location.href="#/login?"+Math.random(),a.Message.error(t.data.userMsg),Promise.reject(e)):2001==r?(a.Message.error(t.data.userMsg),Promise.reject(e)):5e3==r?(a.Message.error(t.data.userMsg),Promise.reject(t.data.userMsg)):Promise.resolve(t.data)}return Promise.reject(t)}),(t=>Promise.reject(t))),e.A=o},682:function(t,e,r){r.d(e,{A:function(){return l}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index-main"},[e("el-row",[e("div",{attrs:{id:"appbodysub"}},[e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"bord"}},[t._l(t.objext.arr,(function(r,n){return e("div",{key:n,staticClass:"content"},[1==r.tmlx||3==r.tmlx?e("div",[e("p",{staticClass:"contentTitle"}),e("div",{staticClass:"titlsubcontent"},[e("div",{staticClass:"contenttit"},[e("span",{staticClass:"requiredbj"},[t._v("*")]),t._v(t._s(n+1)+"、"+t._s(r.title)+" "),"考试"==t.objext.shopname?e("span",[t._v("("+t._s(r.fenshu)+"分)")]):t._e(),"收藏"==r.showtype?e("el-button",{staticStyle:{"margin-left":"60px"},attrs:{size:"mini",icon:"el-icon-star-on"},on:{click:function(e){return t.tounshoucang(r.id,n)}}}):e("el-button",{staticStyle:{"margin-left":"60px"},attrs:{size:"mini",icon:"el-icon-star-off"},on:{click:function(e){return t.toshoucang(r.id,n)}}})],1)]),e("p"),r.picflag?e("div",{staticClass:"demo-image__preview",staticStyle:{"text-align":"left"}},[e("el-image",{staticStyle:{width:"100px",height:"100px","margin-left":"5%"},attrs:{src:r.url,"preview-src-list":r.srcList}})],1):t._e(),e("div",{staticClass:"contenttitselect"},[e("el-radio-group",{staticStyle:{width:"100%",display:"flex"},model:{value:r.userresult,callback:function(e){t.$set(r,"userresult",e)},expression:"item.userresult"}},t._l(r.optionArr,(function(r,n){return e("div",{key:n,staticClass:"radiobut"},[e("el-radio",{attrs:{label:r.label}},[t._v(t._s(r.value))])],1)})),0)],1)]):t._e(),2==r.tmlx?e("div",[e("p",{staticClass:"contentTitle"}),e("div",{staticClass:"titlsubcontent"},[e("div",{staticClass:"contenttit"},[e("span",{staticClass:"requiredbj"},[t._v("*")]),t._v(t._s(n+1)+"、"+t._s(r.title)+" "),"考试"==t.objext.shopname?e("span",[t._v("("+t._s(r.fenshu)+"分)")]):t._e(),"收藏"==r.showtype?e("el-button",{staticStyle:{"margin-left":"60px"},attrs:{size:"mini",icon:"el-icon-star-on"},on:{click:function(e){return t.tounshoucang(r.id,n)}}}):e("el-button",{staticStyle:{"margin-left":"60px"},attrs:{size:"mini",icon:"el-icon-star-off"},on:{click:function(e){return t.toshoucang(r.id,n)}}})],1)]),e("p"),r.picflag?e("div",{staticClass:"demo-image__preview",staticStyle:{"text-align":"left"}},[e("el-image",{staticStyle:{width:"100px",height:"100px","margin-left":"5%"},attrs:{src:r.url,"preview-src-list":r.srcList}})],1):t._e(),e("div",{staticClass:"contenttitselect"},[e("el-checkbox-group",{staticStyle:{width:"100%",display:"flex"},model:{value:r.checkList,callback:function(e){t.$set(r,"checkList",e)},expression:"item.checkList"}},t._l(r.optionArr,(function(r,n){return e("div",{key:n,staticClass:"checkListbut"},[e("el-checkbox",{attrs:{label:r.label}},[t._v(t._s(r.value))])],1)})),0)],1)]):t._e(),4==r.tmlx?e("div",[e("p",{staticClass:"contentTitle"}),e("div",{staticClass:"titlsubcontent"},[e("div",{staticClass:"contenttit"},[e("span",{staticClass:"requiredbj"},[t._v("*")]),t._v(t._s(n+1)+"、"+t._s(r.title)+" "),"考试"==t.objext.shopname?e("span",[t._v("("+t._s(r.fenshu)+"分)")]):t._e(),"收藏"==r.showtype?e("el-button",{staticStyle:{"margin-left":"60px"},attrs:{size:"mini",icon:"el-icon-star-on"},on:{click:function(e){return t.tounshoucang(r.id,n)}}}):e("el-button",{staticStyle:{"margin-left":"60px"},attrs:{size:"mini",icon:"el-icon-star-off"},on:{click:function(e){return t.toshoucang(r.id,n)}}})],1)]),e("p"),r.picflag?e("div",{staticClass:"demo-image__preview",staticStyle:{"text-align":"left"}},[e("el-image",{staticStyle:{width:"100px",height:"100px","margin-left":"5%"},attrs:{src:r.url,"preview-src-list":r.srcList}})],1):t._e(),e("div",{staticClass:"contenttitselect"},t._l(r.inputextArr,(function(n,i){return e("div",{key:i,staticStyle:{"margin-bottom":"10px"}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:r.inputextArr[i],callback:function(e){t.$set(r.inputextArr,i,e)},expression:"item.inputextArr[indexsub]"}})],1)})),0)]):t._e()])})),e("div",{attrs:{id:"submitOne"}},[e("el-button",{staticStyle:{width:"18%"},attrs:{type:"success"},on:{click:t.submitOne}},[t._v("提交")])],1)],2)])]),e("div")])],1)},i=[],a=(r(435),r(287)),s={created(){},mounted(){this.userinfo=JSON.parse(sessionStorage.getItem("userinfo_user"));try{this.belong=this.$route.query.belong||"",this.kaochangid=this.$route.query.kaochangid||""}catch(t){}},props:["objext"],components:{},data(){return{belong:"",kaochangid:"",isCollapse:!1,userinfo:""}},methods:{toquery(){this.$emit("tosearchzi")},toshoucang(t,e){let r=this,n={userid:this.userinfo.id,shopid:t,type:"收藏"};(0,a.mR)(n).then((t=>{this.objext.arr[e].showtype="收藏",r.$message({type:"success",message:"操作成功!"})})).catch((t=>{}))},tounshoucang(t,e){let r=this,n={userid:this.userinfo.id,shopid:t,type:"收藏"};(0,a.aI)(n).then((t=>{this.objext.arr[e].showtype="",r.$message({type:"success",message:"操作成功!"})})).catch((t=>{}))},calculateOverlap(t,e){const r=Math.min(t.length,e.length);let n=0;for(let a=0;a<r;a++)t[a]===e[a]&&n++;const i=0===t.length?0:n/t.length;return i.toFixed(2)},submitOne(){let t=this.objext.arr;for(let a=0;a<t.length;a++){if("radio"==t[a].type&&""==t[a].radio)return this.$message.error("有必填项目没填写，请完善"),!1;if("check"==t[a].type&&0==t[a].checkList.length)return this.$message.error("有必填项目没填写，请完善"),!1;if(4==t[a].tmlx)for(let e=0;e<t[a].inputextArr.length;e++)if(""==t[a].inputextArr[e])return this.$message.error("有必填项目没填写，请完善"),!1}for(let a=0;a<t.length;a++)if("check"==t[a].type){let e=t[a].checkList.sort();t[a].userresult=e.join("")}let e=this.objext.arr.length,r=[];for(let a=0;a<this.objext.arr.length;a++)if(4==this.objext.arr[a].tmlx&&(this.objext.arr[a].userresult=this.objext.arr[a].inputextArr.join("^")),this.objext.arr[a].tmzqda!=this.objext.arr[a].userresult){let t={userid:this.userinfo.id,shopid:this.objext.arr[a].id,shopname:this.objext.shopname||"",type:"错题"};r.push(t)}let n=r.length,i={subtable:JSON.stringify(r)};if("考试"!=this.objext.shopname&&(0,a.DV)(i).then((t=>{this.$message({type:"success",message:`提交成功，完成${e}道题，答错${n}道题`})})).catch((t=>{})),"考试"==this.objext.shopname){let t=0;for(let n=0;n<this.objext.arr.length;n++)if("1"!=this.objext.arr[n].tmlx&&"2"!=this.objext.arr[n].tmlx&&"3"!=this.objext.arr[n].tmlx||this.objext.arr[n].tmzqda==this.objext.arr[n].userresult&&(t+=1*this.objext.arr[n].fenshu),"4"==this.objext.arr[n].tmlx){let e=this.objext.arr[n].tmzqda.split("^"),r=this.objext.arr[n].userresult.split("^"),i=this.calculateOverlap(e,r);t+=1*this.objext.arr[n].fenshu*i*1}let e=[];for(let n=0;n<this.objext.arr.length;n++){let t={title:this.objext.arr[n].title,tmzqda:this.objext.arr[n].tmzqda,userresult:this.objext.arr[n].userresult};e.push(t)}let r={userid:this.userinfo.id,datastr:JSON.stringify(e),result:t,kaochangid:this.kaochangid,belong:this.belong};(0,a.rf)(r).then((t=>{t.length>0?this.$message.error("您已提交过，无需重复提交"):(0,a.Ex)(r).then((t=>{this.$message({type:"success",message:"提交成功"})})).catch((t=>{}))})).catch((t=>{}))}}}},o=s,u=r(6367),c=(0,u.A)(o,n,i,!1,null,"3c0523f9",null),l=c.exports}}]);