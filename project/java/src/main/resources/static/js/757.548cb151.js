"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[757],{287:function(t,e,r){r.d(e,{CI:function(){return O},DV:function(){return h},EZ:function(){return B},Ex:function(){return nt},GR:function(){return s},Hl:function(){return z},Jq:function(){return l},KJ:function(){return F},KP:function(){return X},L:function(){return I},Lc:function(){return tt},O:function(){return it},PT:function(){return R},R3:function(){return lt},SJ:function(){return S},Sq:function(){return j},Ts:function(){return M},U0:function(){return x},Ue:function(){return et},Ux:function(){return d},V0:function(){return st},Vd:function(){return g},WX:function(){return K},Wd:function(){return q},_7:function(){return w},_f:function(){return _},aC:function(){return L},aI:function(){return y},aS:function(){return P},ag:function(){return A},dG:function(){return U},dX:function(){return rt},en:function(){return k},fY:function(){return Y},ge:function(){return Q},gu:function(){return f},h5:function(){return C},hn:function(){return $},iD:function(){return D},jx:function(){return v},k8:function(){return i},lC:function(){return E},lI:function(){return N},lO:function(){return ot},lc:function(){return Z},mR:function(){return b},mx:function(){return u},oA:function(){return m},qV:function(){return H},r6:function(){return G},rf:function(){return p},sA:function(){return at},ti:function(){return o},ul:function(){return c},vL:function(){return T},vV:function(){return J},xw:function(){return W},y1:function(){return V},z_:function(){return a}});var n=r(5898);function a(t){return(0,n.A)({url:"/api/querypaper",method:"post",data:t})}function i(t){return(0,n.A)({url:"/api/addpaper",method:"post",data:t})}function s(t){return(0,n.A)({url:"/api/updatepaper",method:"post",data:t})}function o(t){return(0,n.A)({url:"/api/removepaper",method:"post",data:t})}function l(t){return(0,n.A)({url:"/api/queryelectron",method:"post",data:t})}function u(t){return(0,n.A)({url:"/api/addelectron",method:"post",data:t})}function c(t){return(0,n.A)({url:"/api/updateelectron",method:"post",data:t})}function d(t){return(0,n.A)({url:"/api/queryannouncementbyid",method:"post",data:t})}function m(t){return(0,n.A)({url:"/api/queryusercs",method:"post",data:t})}function p(t){return(0,n.A)({url:"/api/querykaoshiuser",method:"post",data:t})}function f(t){return(0,n.A)({url:"/api/modifyPwd",method:"post",data:t})}function h(t){return(0,n.A)({url:"/api/plinsertresult",method:"post",data:t})}function g(t){return(0,n.A)({url:"/api/removeelectron",method:"post",data:t})}function b(t){return(0,n.A)({url:"/api/addapprase",method:"post",data:t})}function y(t){return(0,n.A)({url:"/api/deleteiscunzai",method:"post",data:t})}function A(t){return(0,n.A)({url:"/api/queryuserquestion",method:"post",data:t})}function v(t){return(0,n.A)({url:"/api/plinsertque",method:"post",data:t})}function w(t){return(0,n.A)({url:"/api/addSysUser",method:"post",data:t})}function x(t){return(0,n.A)({url:"/api/updateSysUser",method:"post",data:t})}function q(t){return(0,n.A)({url:"/api/userremove",method:"post",data:t})}function S(t){return(0,n.A)({url:"/api/userQueryList",method:"post",data:t})}function T(t){return(0,n.A)({url:"/api/updateUserstatus",method:"post",data:t})}function C(t){return(0,n.A)({url:"/api/querysysnews",method:"post",data:t})}function k(t){return(0,n.A)({url:"/api/addsysnews",method:"post",data:t})}function _(t){return(0,n.A)({url:"/api/updatesysnews",method:"post",data:t})}function L(t){return(0,n.A)({url:"/api/updatesysnewsstatus",method:"post",data:t})}function z(t){return(0,n.A)({url:"/api/removesysnews",method:"post",data:t})}function j(t){return(0,n.A)({url:"/api/taskverifymore",method:"post",data:t})}function $(t){return(0,n.A)({url:"/api/chatremove",method:"post",data:t})}function R(t){return(0,n.A)({url:"/api/questionselect",method:"post",data:t})}function I(t){return(0,n.A)({url:"/api/updatataskstatus",method:"post",data:t})}function U(t){return(0,n.A)({url:"/api/taskverify",method:"post",data:t})}function E(t){return(0,n.A)({url:"/api/getclassquestion",method:"post",data:t})}function O(t){return(0,n.A)({url:"/api/questionupdata",method:"post",data:t})}function N(t){return(0,n.A)({url:"/api/questionremove",method:"post",data:t})}function P(t){return(0,n.A)({url:"/api/questioninsert",method:"post",data:t})}function V(t){return(0,n.A)({url:"/api/querychatart",method:"post",data:t})}function B(t){return(0,n.A)({url:"/api/deletearticle",method:"post",data:t})}function M(t){return(0,n.A)({url:"/api/queryarticle",method:"post",data:t})}function W(t){return(0,n.A)({url:"/api/resetPassword",method:"post",data:t})}function D(t){return(0,n.A)({url:"/api/login",method:"post",data:t})}function F(t){return(0,n.A)({url:"/api/addfloor",method:"post",data:t})}function X(t){return(0,n.A)({url:"/api/updatafloor",method:"post",data:t})}function J(t){return(0,n.A)({url:"/api/removefloor",method:"post",data:t})}function G(t){return(0,n.A)({url:"/api/queryfloor",method:"post",data:t})}function H(t){return(0,n.A)({url:"/api/insertchat",method:"post",data:t})}function Z(t){return(0,n.A)({url:"/api/querychat",method:"post",data:t})}function K(t){return(0,n.A)({url:"/api/removeannouncement",method:"post",data:t})}function Q(t){return(0,n.A)({url:"/api/updateannostatus",method:"post",data:t})}function Y(t){return(0,n.A)({url:"/api/updateannouncement",method:"post",data:t})}function tt(t){return(0,n.A)({url:"/api/addannouncement",method:"post",data:t})}function et(t){return(0,n.A)({url:"/api/queryannouncement",method:"post",data:t})}function rt(t){return(0,n.A)({url:"/api/deleteresult",method:"post",data:t})}function nt(t){return(0,n.A)({url:"/api/addkaoshiresult",method:"post",data:t})}function at(t){return(0,n.A)({url:"/api/queryresult",method:"post",data:t})}function it(t){return(0,n.A)({url:"/api/updatasubmitdata",method:"post",data:t})}function st(t){return(0,n.A)({url:"/api/selectsubmit",method:"post",data:t})}function ot(t){return(0,n.A)({url:"/api/fankuiremove",method:"post",data:t})}function lt(t){return(0,n.A)({url:"/api/searchbyno",method:"post",data:t})}},5898:function(t,e,r){var n=r(5547),a=r.n(n),i=r(2057);const s="/",o=a().create({baseURL:s,timeout:6e4,headers:{"Content-Type":"application/json;charset=UTF-8"},transformRequest:[function(t){return t}]});o.interceptors.request.use((t=>{t.headers["Cache-Control"]="no-cache",t.headers["X-Requested-With"]="XMLHttpRequest",t.headers["platform"]="PC";try{let e=JSON.parse(sessionStorage.getItem("userinfo"));t.headers["empNo"]=e.empNo}catch(e){}return localStorage.getItem("AUTHORIZATIONGENERAL")&&""!=localStorage.getItem("AUTHORIZATIONGENERAL")?t.headers["Authorization"]=localStorage.getItem("AUTHORIZATIONGENERAL"):t.headers["Authorization"]="",t.data&&(t.headers["Content-Type"]="application/json;charset=UTF-8",t.data=JSON.stringify(t.data)),"get"==t.method&&(t.params=t.params||{},t.params.t=(new Date).getTime()),t}),(t=>{Promise.reject(t)})),o.interceptors.response.use((t=>{let e={};if(200===t.status){let r=t.data.code;return 1e3==r?(localStorage.setItem("AUTHORIZATIONGENERAL",""),location.href="#/login?"+Math.random(),i.Message.error(t.data.userMsg),Promise.reject(e)):2001==r?(i.Message.error(t.data.userMsg),Promise.reject(e)):5e3==r?(i.Message.error(t.data.userMsg),Promise.reject(t.data.userMsg)):Promise.resolve(t.data)}return Promise.reject(t)}),(t=>Promise.reject(t))),e.A=o},9757:function(t,e,r){r.r(e),r.d(e,{default:function(){return d}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-main"},[e("el-dialog",{attrs:{title:"详情",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[e("el-descriptions",{attrs:{title:"请求相关",direction:"vertical",column:1}},[e("el-descriptions-item",{attrs:{label:"请求URL"}},[t._v(t._s(t.reqform.detail))])],1)],1),e("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.titlestr,visible:t.dialogFormVisible,width:"70%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"grid-content bg-purple user"},[e("el-form-item",{attrs:{label:"所属题库","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.classstr,callback:function(e){t.$set(t.form,"classstr",e)},expression:"form.classstr"}},t._l(t.options,(function(t,r){return e("el-option",{key:r,attrs:{label:t.title,value:t.title}})})),1)],1)],1)])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-form-item",{attrs:{label:"习题题目","label-width":t.formLabelWidth}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1)]),e("el-col",{attrs:{span:24}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-form-item",{attrs:{label:"图片",prop:"trans_pic","label-width":t.formLabelWidth}},[e("el-upload",{staticStyle:{"text-align":"left"},attrs:{action:"/api/uploadfile","list-type":"picture-card","on-preview":t.handlePictureCardPreviewwl,"on-remove":t.handleRemovewl,"on-success":t.handleSuccesswl,"file-list":t.fileListwl}},[e("i",{staticClass:"el-icon-plus"})])],1)],1)])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-form-item",{attrs:{label:"习题类型","label-width":t.formLabelWidth}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:t.toupdata},model:{value:t.form.tmlx,callback:function(e){t.$set(t.form,"tmlx",e)},expression:"form.tmlx"}},t._l(t.tmlxArr,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-form-item",{attrs:{label:"难度","label-width":t.formLabelWidth}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.nandu,callback:function(e){t.$set(t.form,"nandu",e)},expression:"form.nandu"}},[e("el-option",{attrs:{label:"简单",value:"简单"}}),e("el-option",{attrs:{label:"一般",value:"一般"}}),e("el-option",{attrs:{label:"复杂",value:"复杂"}})],1)],1)],1)]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-form-item",{attrs:{label:"分数","label-width":t.formLabelWidth}},[e("el-input-number",{attrs:{min:1,max:100,label:"请输入分数"},model:{value:t.form.fenshu,callback:function(e){t.$set(t.form,"fenshu",e)},expression:"form.fenshu"}})],1)],1)]),e("el-col",{attrs:{span:24}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-form-item",{attrs:{label:"习题答案","label-width":t.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入答案"},model:{value:t.form.tmzqda,callback:function(e){t.$set(t.form,"tmzqda",e)},expression:"form.tmzqda"}})],1)],1)]),e("el-col",{attrs:{span:24}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-form-item",{attrs:{label:"解析","label-width":t.formLabelWidth}},[e("el-input",{attrs:{placeholder:"请输入解析",type:"textarea"},model:{value:t.form.jiexi,callback:function(e){t.$set(t.form,"jiexi",e)},expression:"form.jiexi"}})],1)],1)])],1),t.optionsflag?e("el-row",{attrs:{gutter:20}},t._l(t.form.inputArr,(function(r,n){return e("el-col",{key:n,attrs:{span:12}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-form-item",{attrs:{label:"选项","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.form.inputArr[n],callback:function(e){t.$set(t.form.inputArr,n,e)},expression:"form.inputArr[index]"}},[e("el-button",{attrs:{slot:"append"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteoption(n,t.form.inputArr)}},slot:"append"},[t._v(" 删除")])],1)],1)],1)])})),1):t._e()],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.optionsflag?e("el-button",{attrs:{type:"primary"},on:{click:t.addoption}},[t._v("添加选项")]):t._e(),e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.submitoption}},[t._v("确 定")])],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{staticClass:"user-demoright",attrs:{span:24}},[e("div",{staticClass:"demo-user-search"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,md:12,lg:8}},[e("div",{staticClass:"demo-input-suffix"},[t._v(" 习题名称 "),e("el-input",{staticClass:"search-user",attrs:{placeholder:"请输入内容"},model:{value:t.search.tmnr,callback:function(e){t.$set(t.search,"tmnr",e)},expression:"search.tmnr"}})],1)]),e("el-col",{attrs:{xs:24,md:12,lg:8}},[e("div",{staticClass:"search-butgroup"},[e("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-search",round:""},on:{click:t.searchfun}},[t._v("搜索 ")])],1)])],1)],1),e("div",{staticClass:"demo-user-contentfu"},[e("div",{staticClass:"demo-user-content"},[e("el-row",{staticClass:"demo-user-contentbutleft"},[e("el-col",{attrs:{span:10}},[e("div",{staticClass:"demo-user-contentbutleftsub"},[e("input",{staticClass:"el-button el-button--info el-button--mini",staticStyle:{height:"35px"},attrs:{type:"file",id:"file"}}),e("el-button",{staticStyle:{height:"35px"},attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.addquestion("添加题目")}}},[t._v("新增 ")])],1)]),e("el-col",{attrs:{span:6}},[t._v(" ")]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"demo-user-contentbutrightsub"})])],1)],1),e("div",{staticClass:"demo-user-page"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pendingflag,expression:"pendingflag"}],ref:"multipleTable",staticClass:"demo-log-tablemore",staticStyle:{width:"100%"},attrs:{border:"","header-cell-style":{"text-align":"center","background-color":"#f1f1f1"},data:t.tableData,"tooltip-effect":"dark","cell-style":{"text-align":"center"}},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{label:"操作类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(r){return["1"==r.row.tmlx?e("el-tag",{attrs:{type:"success"}},[t._v(t._s("单选"))]):t._e(),"2"==r.row.tmlx?e("el-tag",{attrs:{type:"primary"}},[t._v(t._s("多选"))]):t._e(),"3"==r.row.tmlx?e("el-tag",{attrs:{type:"warning"}},[t._v(t._s("判断"))]):t._e(),"4"==r.row.tmlx?e("el-tag",{attrs:{type:"info"}},[t._v(t._s("填空"))]):t._e()]}}])}),t._l(t.griddata,(function(t,r){return e("el-table-column",{key:r,attrs:{"show-overflow-tooltip":"",prop:t.prop,label:t.label,width:t.width}})})),e("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",plain:"",size:"mini"},on:{click:function(e){return t.handleEdit(r.$index,r.row,"修改")}}}),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",plain:"",size:"mini"},on:{click:function(e){return t.handleDelete(r.$index,r.row)}}})]}}])})],2),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-pagination",{attrs:{background:"","current-page":t.current,"page-sizes":[10,20,30,50],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])])],1)],1)},a=[],i=(r(435),r(2950),r(9511),r(3607),r(1360),r(8151),r(2068),r(2080),r(1071),r(834),r(287)),s=r(6365),o={name:"logoperation",components:{},created(){this.init(),this.getclasstmlx()},mounted(){this.excelinit()},data(){return{optionsflag:!0,fileListwl:[],titlestr:"",dialogFormVisible:!1,pendingflag:!1,single:!0,multiple:!0,roleinfotitle:"",dialogcolnmVisible:!1,search:{module:"",operateType:"",tmnr:"",status:0,createdate:""},reqform:{operateUrl:"",param:"",requestMethod:"",jsonResult:"",errorMsg:"",userTypeText:""},griddata:[{prop:"nandu",label:"习题难度",width:"100"},{prop:"tmnr",label:"习题题目",width:""}],tableData:[],multipleSelection:[],operateTypeArr:[],currentPage:1,current:1,size:10,total:0,dialogTableVisible:!1,fileList:[],form:{sort:"",classstr:"",title:"",optionArr:"",inputArr:[],type:"",tmlx:"",tmzqda:"",nandu:"",fenshu:"",jiexi:""},formLabelWidth:"120px",tmlxArr:[{value:"1",label:"单选题"},{value:"2",label:"多选题"},{value:"3",label:"判断题"},{value:"4",label:"填空题"}],options:[],selectid:""}},methods:{init(){this.query()},getclasstmlx(){let t={current:1,keyword:"",size:1e3,status:0};(0,i.h5)(t).then((t=>{this.options=t})).catch((t=>{}))},handleRemovewl(t,e){this.fileListwl=e},handlePictureCardPreviewwl(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleSuccesswl(t,e,r){console.log(t,e,r);let n=t,a=e.name,i={url:n,name:a};this.fileListwl.push(i)},addquestion(t){this.titlestr=t,this.form.classstr="",this.form.title="",this.form.optionArr="",this.form.inputArr=[],this.form.type="radio",this.dialogFormVisible=!0},toupdata(t){this.optionsflag=4!=t},addoption(){let t=this.form.inputArr;for(let r=0;r<t.length;r++)if(""==t[r])return this.$message({type:"info",message:"存在空选项，请完善后再进行添加操作"}),!1;let e="";this.form.inputArr.push(e),console.log(this.form.inputArr)},deleteoption(t,e){this.$confirm("此操作将删除该选项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{e.splice(t,1),this.form.inputArr=e,this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},submitoption(){let t=this;if(""==this.form.classstr||""==this.form.title)return this.$message({type:"info",message:"有必填字段未填写"}),!1;this.form.title=this.form.title.trim();let e=this.form.inputArr.filter((t=>""!=t));if(this.form.inputArr=e.map(((t,e)=>(t=t.trim(),t))),this.form.optionArr=this.form.inputArr.join(","),this.form.type="radio","修改"==this.titlestr){let e=this.form.inputArr,r={trans_pic:this.transpicurl(this.fileListwl),fenshu:this.form.fenshu,id:this.selectid,tmbz:"",tmdas:"",tmlx:this.form.tmlx,tmnd:"",tmtp:"",tmxh:"",tmzqda:this.form.tmzqda,nandu:this.form.nandu,jiexi:this.form.jiexi,tmzqdatext:(0,s.he)(this.form.tmzqda),tmzs:"",belong:this.form.classstr,tmnr:this.form.title.trim(),tmda1:e[0]||"",tmda2:e[1]||"",tmda3:e[2]||"",tmda4:e[3]||"",tmda5:e[4]||"",tmda6:e[5]||""};(0,i.CI)(r).then((e=>{t.query(),t.$message({type:"success",message:"修改成功!"})})).catch((t=>{}))}else{let e=this.form.inputArr,r={trans_pic:this.transpicurl(this.fileListwl),fenshu:this.form.fenshu,tmbz:"",tmdas:"",tmlx:this.form.tmlx,tmzqda:this.form.tmzqda,nandu:this.form.nandu,jiexi:this.form.jiexi,tmzqdatext:(0,s.he)(this.form.tmzqda),tmnd:"",tmtp:"",tmxh:"",tmzs:"",belong:this.form.classstr,tmnr:this.form.title.trim(),tmda1:e[0]||"",tmda2:e[1]||"",tmda3:e[2]||"",tmda4:e[3]||"",tmda5:e[4]||"",tmda6:e[5]||""};(0,i.aS)(r).then((e=>{t.query(),t.$message({type:"success",message:"新增成功!"})})).catch((t=>{}))}this.dialogFormVisible=!1},transpicurl(t){let e=[];return t.forEach((t=>{e.push(t.url)})),e.join("^^^")},submitUpload(){this.$refs.upload.submit()},handleRemove(t,e){console.log(t,e)},handlePreview(t){console.log(t)},getenum(){let t=JSON.parse(sessionStorage.getItem("enumsdata"));this.operateTypeArr=t.operateTypeEnum.option},query(){null!=this.search.createdate&&void 0!=this.search.createdate&&""!=this.search.createdate||(this.search.createdate=[]);let t="",e="";this.search.createdate.length>0&&(t=(0,s.A3)(this.search.createdate[0]),e=(0,s.A3)(this.search.createdate[1]));let r={current:this.current,endTime:e,tmnr:this.search.tmnr,size:this.size,startTime:t};(0,i.PT)(r).then((t=>{console.log(t),this.tableData=t.data,this.total=t.count,this.pendingflag=!1})).catch((t=>{this.pendingflag=!1}))},handleEdit(t,e,r){this.titlestr=r,console.log(t,e),this.form.classstr=e.belong,this.form.sort=e.sort,this.form.title=e.tmnr,this.form.tmlx=e.tmlx,this.form.tmzqda=e.tmzqda,this.form.nandu=e.nandu,this.form.jiexi=e.jiexi,this.form.fenshu=e.fenshu,this.selectid=e.id;let n=[e.tmda1,e.tmda2,e.tmda3,e.tmda4,e.tmda5,e.tmda6];this.form.inputArr=n.filter(((t,e)=>t));let a=e.trans_pic;try{if(a.indexOf("^^^")>-1||a){let t=a.split("^^^"),e=[];t.forEach(((t,r)=>{let n={url:t,name:""};e.push(n)})),this.fileListwl=e}else this.fileListwl=[]}catch(i){this.fileListwl=[]}this.dialogFormVisible=!0},handleDelete(t,e){let r=this;this.$confirm("此操作将删除该题目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let t={id:e.id};(0,i.lI)(t).then((t=>{r.query(),r.$message({type:"success",message:"删除成功!"})})).catch((t=>{}))})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},searchfun(){this.query()},resetfun(){this.search.module="",this.search.operateType="",this.search.tmnr="",this.search.status="",this.search.createdate=""},handleSelectionChange(t){this.multipleSelection=t,this.multiple=!t.length},handleSizeChange(t){this.size=t,this.query()},handleCurrentChange(t){this.current=t,this.query()},headerstyle(){return"{'text-align':'center','background-color': '#f1f1f1'}"},deletedata(){let t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let e=[];t.multipleSelection.forEach(((t,r)=>{e.push(t.id)}));let r={ids:e};t.pendingflag=!0,operateLogdelet(r).then((e=>{t.query(),t.$message.success("操作成功")})).catch((e=>{t.$message.error("操作失败"),t.pendingflag=!1}))})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},colnmsubmit(){this.dialogcolnmVisible=!1},replaceKeys(t,e){return t.map((t=>Object.keys(t).reduce(((r,n)=>(r[e[n]||n]=t[n],r)),{})))},viewRow(t,e){console.log(t,e),this.reqform.operateUrl=e.operateUrl,this.reqform.param=e.param,this.reqform.requestMethod=e.requestMethod,this.reqform.jsonResult=e.jsonResult,this.reqform.errorMsg=e.errorMsg,this.reqform.userTypeText=e.userTypeText,this.dialogTableVisible=!0},rTime(t){var e=new Date(t).toJSON();return new Date(new Date(e)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")},excelinit(){let t=this;document.querySelector("#file").addEventListener("change",(function(){var e=document.querySelector("#file").files[0],r=e.name.split(".");if("xlsx"!==r[r.length-1]&&"xls"!==r[r.length-1])return t.$message({type:"info",message:"只能选择excel文件导入"}),!1;const n=new FileReader;n.readAsBinaryString(e),n.onload=e=>{const r=e.target.result,n=window.XLS.read(r,{type:"binary",encoding:"GB2312"});let a=[];for(let t=0;t<n.SheetNames.length;t++){const e=window.XLS.utils.sheet_to_json(n.Sheets[n.SheetNames[t]]);a.push(...e)}let o=(0,s.Nr)();a=t.replaceKeys(a,o);let l=a.map(((t,e)=>t));console.log("result",JSON.stringify(l)),t.$confirm("此操作将将追加数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let e={subtable:JSON.stringify(l)};t.pendingflag=!0,(0,i.jx)(e).then((e=>{let r=document.getElementById("file");r.value="",t.$message({type:"success",message:"导入成功"}),t.query(),t.pendingflag=!1})).catch((e=>{console.log(e);let r=document.getElementById("file");r.value="",t.$message({type:"info",message:"请导入1000条以内的数据"}),t.pendingflag=!1}))})).catch((()=>{let e=document.getElementById("file");e.value="",t.$message({type:"info",message:"已取消"})}))}}))},saveAs(t,e){var r=document.createElement("a");r.download=e||"下载",r.href=URL.createObjectURL(t),r.click(),setTimeout((function(){URL.revokeObjectURL(t)}),100)},downloadExl(t,e){let r=this;const n={SheetNames:["Sheet1"],Sheets:{},Props:{}};n.Sheets["Sheet1"]=XLSX.utils.json_to_sheet(t);let a={bookType:"xlsx",bookSST:!1,type:"binary"};this.saveAs(new Blob([r.s2ab(XLSX.write(n,a))],{type:"application/octet-stream"}),"这里是下载的文件名."+("biff2"==a.bookType?"xls":a.bookType))},s2ab(t){if("undefined"!==typeof ArrayBuffer){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=255&t.charCodeAt(n);return e}for(e=new Array(t.length),n=0;n!=t.length;++n)e[n]=255&t.charCodeAt(n);return e}},watch:{dialogFormVisible(t){t||(this.form.sort="",this.form.classstr="",this.form.title="",this.form.optionArr="",this.form.inputArr=[],this.fileListwl=[],this.form.type="",this.form.tmlx="",this.form.tmzqda="",this.form.nandu="",this.form.jiexi="")}},filters:{updatestatus(t){switch(t){case 0:return"正常";case 1:return"停用"}}}},l=o,u=r(6367),c=(0,u.A)(l,n,a,!1,null,"243047fd",null),d=c.exports}}]);