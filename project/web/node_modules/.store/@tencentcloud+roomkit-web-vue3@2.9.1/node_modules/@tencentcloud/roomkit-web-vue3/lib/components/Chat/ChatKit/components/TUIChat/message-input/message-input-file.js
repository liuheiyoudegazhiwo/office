"use strict";
Object.defineProperties(exports, { __esModule: { value: true }, [Symbol.toStringTag]: { value: "Module" } });
const Image = require("@tiptap/extension-image");
const CustomImage = Image.extend({
  name: "custom-image",
  addAttributes() {
    return {
      ...Image.config.addAttributes(),
      class: {
        default: "image",
        rendered: false
      }
    };
  },
  addCommands() {
    return {
      setImage: (options) => ({ tr, commands }) => {
        var _a, _b, _c;
        if (((_c = (_b = (_a = tr.selection) == null ? void 0 : _a.node) == null ? void 0 : _b.type) == null ? void 0 : _c.name) == "custom-image") {
          return commands.updateAttributes("custom-image", options);
        } else {
          return commands.insertContent({
            type: this.name,
            attrs: options
          });
        }
      }
    };
  },
  renderHTML({ node, HTMLAttributes }) {
    var _a;
    HTMLAttributes.class = (((_a = node.attrs.class) == null ? void 0 : _a.includes("custom-image-")) ? "" : "custom-image-") + node.attrs.class;
    return [
      "img",
      HTMLAttributes
    ];
  }
});
exports.default = CustomImage;
