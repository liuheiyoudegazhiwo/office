
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no">
  <title>Tcplayer Demo</title>
<!-- <link href="https://web.sdk.qcloud.com/player/tcplayer/release/v4.5.2/tcplayer.min.css" rel="stylesheet">
  <script src="https://web.sdk.qcloud.com/player/tcplayer/release/v4.5.2/libs/hls.min.0.13.2m.js"></script>
  <script src="https://web.sdk.qcloud.com/player/tcplayer/release/v4.5.2/tcplayer.v4.5.2.min.js"></script> -->
  <link href="https://web.sdk.qcloud.com/player/tcplayer/release/v5.0.0/tcplayer.min.css" rel="stylesheet">
  <!-- <script src="https://web.sdk.qcloud.com/player/tcplayer/release/v5.0.1/libs/hls.min.1.1.6.js"></script> -->
  <!-- <script src="https://web.sdk.qcloud.com/player/tcplayer/release/v5.0.1/tcplayer.v5.0.1.min.js"></script> -->
  <script src="http://10.21.119.52:8080/dist/tcplayer.v5.0.1.js"></script>
  <style>
    html,body{ 
      margin: 0;
      padding: 0;
    }
    .tcplayer {
      margin: 0 auto;
    }
    @media screen and (max-width: 480px) {
      #player-container-id {
        width: 100%;
        height: 240px;
      }
    }
  </style>
</head>
<body>

<video id="player-container-id" preload="auto" width="640" height="360" playsinline webkit-playsinline>
</video>

<script>


  
function generateUUID() {
  let d = new Date().getTime();
  let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
    let r = (d + Math.random() * 16) % 16 | 0;
    d = Math.floor(d / 16);
    return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
  });
  return uuid;
}

// 鍒濆鍖栬吘璁挱鏀惧櫒
var tcPlayer;
function initTCPlayer() {
    tcPlayer = TCPlayer('player-container-id', {
        sources: [{
            // src: 'webrtc://play.ibstop.cn/live/c7132685e8524bd0996f780fbad5de87',
            src: 'webrtc://play.ibstop.cn/live/aead6d63ae314b1fb6a795bbc7652cbb'
            // src: playUrl
        }],
        // webrtcConfig: {
        //     fallbackUrl: 'http://play.ibstop.cn/live/1953e4f28e1a4e53ad091d50bd0a7f72.flv',
        // },
        licenseUrl: 'https://license.vod2.myqcloud.com/license/v2/1251943848_1/v_cube.license',
        autoplay: true,

        // controls: false
    });
    tcPlayer.on('webrtcfallback', function (event) {
        console.log(event);
    });
    tcPlayer.on('webrtcevent', function (event) {
        // 浠庡洖璋冨弬鏁� event 涓幏鍙栦簨浠剁姸鎬佺爜鍙婄浉鍏虫暟鎹�
        console.log(event);  
    });
    tcPlayer.on('error', function (error) {
        // 鍋氫竴浜涘鐞�
        console.log('error', error);
    });

    tcPlayer.on('blocked', function() {
      console.log('blocked');
    });

    tcPlayer.on('pause', function() {
     console.log('pause');
    });

    tcPlayer.on('fullscreenchange', function(e) {
      console.log('eee', e, tcPlayer.isFullscreen());
    })



    setTimeout(() => {
      tcPlayer.play();
    }, 500);
    
    



}



initTCPlayer()

</script>
</body>
</html>


